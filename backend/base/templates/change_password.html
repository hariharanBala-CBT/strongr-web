{% extends 'base_org.html' %}{% load static %}
{% block content %}
    <link href="{% static './css/change-password.css' %}" rel="stylesheet"/>

    <div class="container-fluid px-4 m">
        <div class="profile-card"> 
            <h1 class="my-4">change password:</h1>
            {% if success_message %}
                <div class="alert alert-success" role="alert">
                    {{ success_message }}
                    <button type="button" class="close" data-dismiss="alert" aria-label="Close">
                        <span aria-hidden="true">&times;</span>
                    </button>
                </div>
            {% endif %}
            <div>                          
                {% for field in form %}
                    {% for error in field.errors %}
                        <div class="alert alert-danger" role="alert">
                            {{ error }}
                            <button type="button" class="close" data-dismiss="alert" aria-label="Close">
                                <span aria-hidden="true">&times;</span>
                            </button>
                        </div>
                    {% endfor %}
                {% endfor %}
                
                <form method="post">
                    {% csrf_token %}
                    {% for field in form %}
                        <label for="{{ field.id_for_label }}">{{ field.label }}</label>
                        {{ field }}<br>
                    {% endfor %}
                    <br><button class="btn btn-primary" type="submit">Change Password</button><br>
                </form>
            
            </div>
        </div>
    </div>
                 
    <script>
        // Close alert when close button is clicked
        document.querySelectorAll('.close').forEach(function(el) {
            el.addEventListener('click', function() {
                this.parentNode.style.display = 'none';
            });
        });
    </script>
{% endblock %}        